import{_ as s}from"./chunks/draw_image.29315be3.js";import{_ as a,o as n,c as l,Q as o}from"./chunks/framework.fec3dccb.js";const f=JSON.parse('{"title":"サーフェスに描画する","description":"","frontmatter":{},"headers":[],"relativePath":"guide/tutorial/windows/surface.md","filePath":"guide/tutorial/windows/surface.md"}'),p={name:"guide/tutorial/windows/surface.md"},e=o(`<h1 id="サーフェスに描画する" tabindex="-1">サーフェスに描画する <a class="header-anchor" href="#サーフェスに描画する" aria-label="Permalink to &quot;サーフェスに描画する&quot;">​</a></h1><p>画像バッファであるサーフェスを使って描画します。</p><h2 id="サーフェスに描画してウィンドウに転写します" tabindex="-1">サーフェスに描画してウィンドウに転写します <a class="header-anchor" href="#サーフェスに描画してウィンドウに転写します" aria-label="Permalink to &quot;サーフェスに描画してウィンドウに転写します&quot;">​</a></h2><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-QdBDs" id="tab-iz9hMBM" checked="checked"><label for="tab-iz9hMBM">ES5</label><input type="radio" name="group-QdBDs" id="tab-kzKjYwm"><label for="tab-kzKjYwm">ES6</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> Raia </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;raia&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> window </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> Raia.</span><span style="color:#B392F0;">Window</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">800</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">600</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> surface </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> Raia.</span><span style="color:#B392F0;">Surface</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">800</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">600</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">surface.</span><span style="color:#B392F0;">loadImage</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;fore.png&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">window.</span><span style="color:#B392F0;">blendSurface</span><span style="color:#E1E4E8;">(surface);</span></span>
<span class="line"><span style="color:#E1E4E8;">window.</span><span style="color:#B392F0;">onUpdate</span><span style="color:#E1E4E8;">(</span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> () {</span></span>
<span class="line"><span style="color:#E1E4E8;">    window.</span><span style="color:#B392F0;">redraw</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> Raia </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;raia&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> window </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Raia.</span><span style="color:#6F42C1;">Window</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">800</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">600</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> surface </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> Raia.</span><span style="color:#6F42C1;">Surface</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">800</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">600</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">surface.</span><span style="color:#6F42C1;">loadImage</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;fore.png&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">window.</span><span style="color:#6F42C1;">blendSurface</span><span style="color:#24292E;">(surface);</span></span>
<span class="line"><span style="color:#24292E;">window.</span><span style="color:#6F42C1;">onUpdate</span><span style="color:#24292E;">(</span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> () {</span></span>
<span class="line"><span style="color:#24292E;">    window.</span><span style="color:#6F42C1;">redraw</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> {Window, Surface} </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">require</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;raia&#39;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> window </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Window</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">800</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">600</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">var</span><span style="color:#E1E4E8;"> surface </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Surface</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">800</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">600</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">surface.</span><span style="color:#B392F0;">loadImage</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;fore.png&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">window.</span><span style="color:#B392F0;">blendSurface</span><span style="color:#E1E4E8;">(surface);</span></span>
<span class="line"><span style="color:#E1E4E8;">window.</span><span style="color:#B392F0;">onUpdate</span><span style="color:#E1E4E8;">(()</span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">    window.</span><span style="color:#B392F0;">redraw</span><span style="color:#E1E4E8;">();</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> {Window, Surface} </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">require</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;raia&#39;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> window </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Window</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">800</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">600</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">var</span><span style="color:#24292E;"> surface </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Surface</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">800</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">600</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">surface.</span><span style="color:#6F42C1;">loadImage</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;fore.png&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">window.</span><span style="color:#6F42C1;">blendSurface</span><span style="color:#24292E;">(surface);</span></span>
<span class="line"><span style="color:#24292E;">window.</span><span style="color:#6F42C1;">onUpdate</span><span style="color:#24292E;">(()</span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">    window.</span><span style="color:#6F42C1;">redraw</span><span style="color:#24292E;">();</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div></div></div><h3 id="blendsurface" tabindex="-1">blendSurface() <a class="header-anchor" href="#blendsurface" aria-label="Permalink to &quot;blendSurface()&quot;">​</a></h3><p>サーフェスの画素情報をウィンドウに転写します。第一引数でSurfaceのインスタンスを指定します。</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">blendSurface</span><span style="color:#E1E4E8;">(surface)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">blendSurface</span><span style="color:#24292E;">(surface)</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">サーフェスを使用する理由</p><p>Windowオブジェクトの<code>loadImage()</code>関数でも画像を読み込んで表示することは可能ですが、画像にフィルターをかけたり移動させたりするには何度もファイルを読み込むことになるので非効率です。</p><p>サーフェスに一旦読み込んで<code>blendSurface()</code>でWindowオブジェクトに合成することで、負荷を軽くして処理を効率化することができます。</p></div><h3 id="スクリーンショット" tabindex="-1">スクリーンショット <a class="header-anchor" href="#スクリーンショット" aria-label="Permalink to &quot;スクリーンショット&quot;">​</a></h3><p><img src="`+s+'" alt=""></p>',10),c=[e];function r(t,E,y,i,d,u){return n(),l("div",null,c)}const h=a(p,[["render",r]]);export{f as __pageData,h as default};
