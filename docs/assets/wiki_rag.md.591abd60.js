import{_ as e,o,c,O as d}from"./chunks/framework.a2eb6a87.js";const n=JSON.parse('{"title":"RAGの文法規則","description":"","frontmatter":{},"headers":[],"relativePath":"wiki/rag.md","filePath":"wiki/rag.md"}'),l={name:"wiki/rag.md"},i=d(`<h1 id="ragの文法規則" tabindex="-1">RAGの文法規則 <a class="header-anchor" href="#ragの文法規則" aria-label="Permalink to &quot;RAGの文法規則&quot;">​</a></h1><h2 id="文字コード" tabindex="-1">文字コード <a class="header-anchor" href="#文字コード" aria-label="Permalink to &quot;文字コード&quot;">​</a></h2><ul><li>utf-8</li></ul><h2 id="拡張子" tabindex="-1">拡張子 <a class="header-anchor" href="#拡張子" aria-label="Permalink to &quot;拡張子&quot;">​</a></h2><ul><li><code>.rag</code></li><li><code>.rags</code></li></ul><h2 id="空白のトークン" tabindex="-1">空白のトークン <a class="header-anchor" href="#空白のトークン" aria-label="Permalink to &quot;空白のトークン&quot;">​</a></h2><ul><li><code>LF</code>: <code>0x0A</code></li><li><code>CR</code>: <code>0x0D</code></li><li><code>EOL</code>: <code>&lt;LF&gt;</code>, <code>&lt;CR&gt;</code>, <code>&lt;CR&gt;&lt;LF&gt;</code> のいずれか</li><li><code>TAB_H</code>: <code>0x09</code></li><li><code>TAB_V</code>: <code>0x0B</code></li><li><code>TAB</code>: <code>&lt;TAB_H&gt;</code>, <code>&lt;TAB_V&gt;</code> のいずれか</li><li><code>FF</code>: <code>0x0C</code></li><li><code>SPACE_ASCII</code>: <code>0x20</code></li><li><code>SPACE_UTF8_2BYTE</code>: <code>0xC2A0</code></li><li><code>SPACE_UTF8_3BYTE</code>: <code>0xE38080</code></li><li><code>SPACE</code>: <code>&lt;SPACE_ASCII&gt;</code>, <code>&lt;SPACE_UTF8_2BYTE&gt;</code>, <code>&lt;SPACE_UTF8_3BYTE&gt;</code> のいずれか</li><li><code>BLANK</code>: <code>&lt;SPACE&gt;</code>, <code>&lt;EOL&gt;</code>, <code>&lt;TAB&gt;</code>, <code>&lt;FF&gt;</code> のいずれか</li></ul><h2 id="記号のトークン" tabindex="-1">記号のトークン <a class="header-anchor" href="#記号のトークン" aria-label="Permalink to &quot;記号のトークン&quot;">​</a></h2><ul><li><code>DOT</code>: <code>.</code></li><li><code>COMMA</code>: <code>,</code></li><li><code>EQUAL</code>: <code>=</code></li><li><code>SQUARE_L</code>: <code>[</code></li><li><code>SQUARE_R</code>: <code>]</code></li><li><code>CURLY_L</code>: <code>{</code></li><li><code>CURLY_R</code>: <code>}</code></li><li><code>ANGLE_L</code>: <code>&lt;</code></li><li><code>ANGLE_R</code>: <code>&gt;</code></li><li><code>ROUND_L</code>: <code>(</code></li><li><code>ROUND_R</code>: <code>)</code></li><li><code>PLUS</code>: <code>+</code></li><li><code>HYPHEN</code>: <code>-</code></li><li><code>ASTERISK</code>: <code>*</code></li><li><code>SLASH</code>: <code>/</code></li><li><code>BACK_SLASH</code>: <code>0x5C</code></li><li><code>SEMICOLON</code>: <code>;</code></li><li><code>COLON</code>: <code>:</code></li><li><code>DOLLAR</code>: <code>$</code></li><li><code>PERCENT</code>: <code>%</code></li><li><code>SHARP</code>: <code>#</code></li><li><code>QUOTE_SINGLE</code>: <code>&#39;</code></li><li><code>QUOTE_DOUBLE</code>: <code>&quot;</code></li><li><code>QUOTE_BACK</code>: <code>0x60</code></li><li><code>UNDERSCORE</code>: <code>_</code></li><li><code>QUESTION</code>: <code>?</code></li><li><code>EXCLAMATION</code>: <code>!</code></li><li><code>AND</code>: <code>&amp;</code></li><li><code>AT</code>: <code>@</code></li><li><code>HAT</code>: <code>^</code></li><li><code>TILDE</code>: <code>~</code></li><li><code>OR</code>: <code>|</code></li></ul><h3 id="エスケープ文字のトークン" tabindex="-1">エスケープ文字のトークン <a class="header-anchor" href="#エスケープ文字のトークン" aria-label="Permalink to &quot;エスケープ文字のトークン&quot;">​</a></h3><ul><li><code>ESC_DOT</code>: <code>&lt;BACK_SLASH&gt;&lt;DOT&gt;</code></li><li><code>ESC_COMMA</code>: <code>&lt;BACK_SLASH&gt;&lt;COMMA&gt;</code></li><li><code>ESC_EQUAL</code>: <code>&lt;BACK_SLASH&gt;&lt;EQUAL&gt;</code></li><li><code>ESC_SQUARE_L</code>: <code>&lt;BACK_SLASH&gt;&lt;SQUARE_L&gt;</code></li><li><code>ESC_SQUARE_R</code>: <code>&lt;BACK_SLASH&gt;&lt;SQUARE_R&gt;</code></li><li><code>ESC_CURLY_L</code>: <code>&lt;BACK_SLASH&gt;&lt;CURLY_L&gt;</code></li><li><code>ESC_CURLY_R</code>: <code>&lt;BACK_SLASH&gt;&lt;CURLY_R&gt;</code></li><li><code>ESC_ANGLE_L</code>: <code>&lt;BACK_SLASH&gt;&lt;ANGLE_L&gt;</code></li><li><code>ESC_ANGLE_R</code>: <code>&lt;BACK_SLASH&gt;&lt;ANGLE_R&gt;</code></li><li><code>ESC_ROUND_L</code>: <code>&lt;BACK_SLASH&gt;&lt;ROUND_L&gt;</code></li><li><code>ESC_ROUND_R</code>: <code>&lt;BACK_SLASH&gt;&lt;ROUND_R&gt;</code></li><li><code>ESC_PLUS</code>: <code>&lt;BACK_SLASH&gt;&lt;PLUS&gt;</code></li><li><code>ESC_HYPHEN</code>: <code>&lt;BACK_SLASH&gt;&lt;HYPHEN&gt;</code></li><li><code>ESC_ASTERISK</code>: <code>&lt;BACK_SLASH&gt;&lt;ASTERISK&gt;</code></li><li><code>ESC_SLASH</code>: <code>&lt;BACK_SLASH&gt;&lt;SLASH&gt;</code></li><li><code>ESC_BACK_SLASH</code>: <code>&lt;BACK_SLASH&gt;&lt;BACK_SLASH&gt;</code></li><li><code>ESC_SEMICOLON</code>: <code>&lt;BACK_SLASH&gt;&lt;SEMICOLON&gt;</code></li><li><code>ESC_COLON</code>: <code>&lt;BACK_SLASH&gt;&lt;COLON&gt;</code></li><li><code>ESC_DOLLAR</code>: <code>&lt;BACK_SLASH&gt;&lt;DOLLAR&gt;</code></li><li><code>ESC_PERCENT</code>: <code>&lt;BACK_SLASH&gt;&lt;PERCENT&gt;</code></li><li><code>ESC_SHARP</code>: <code>&lt;BACK_SLASH&gt;&lt;SHARP&gt;</code></li><li><code>ESC_QUOTE_SINGLE</code>: <code>&lt;BACK_SLASH&gt;&lt;QUOTE_SINGLE&gt;</code></li><li><code>ESC_QUOTE_DOUBLE</code>: <code>&lt;BACK_SLASH&gt;&lt;QUOTE_DOUBLE&gt;</code></li><li><code>ESC_QUOTE_BACK</code>: <code>&lt;BACK_SLASH&gt;&lt;QUOTE_BACK&gt;</code></li><li><code>ESC_UNDERSCORE</code>: <code>&lt;BACK_SLASH&gt;&lt;UNDERSCORE&gt;</code></li><li><code>ESC_QUESTION</code>: <code>&lt;BACK_SLASH&gt;&lt;QUESTION&gt;</code></li><li><code>ESC_EXCLAMATION</code>: <code>&lt;BACK_SLASH&gt;&lt;EXCLAMATION&gt;</code></li><li><code>ESC_AND</code>: <code>&lt;BACK_SLASH&gt;&lt;AND&gt;</code></li><li><code>ESC_AT</code>: <code>&lt;BACK_SLASH&gt;&lt;AT&gt;</code></li><li><code>ESC_HAT</code>: <code>&lt;BACK_SLASH&gt;&lt;HAT&gt;</code></li><li><code>ESC_TILDE</code>: <code>&lt;BACK_SLASH&gt;&lt;TILDE&gt;</code></li><li><code>ESC_OR</code>: <code>&lt;BACK_SLASH&gt;&lt;OR&gt;</code></li></ul><h3 id="エスケープシーケンスのトークン" tabindex="-1">エスケープシーケンスのトークン <a class="header-anchor" href="#エスケープシーケンスのトークン" aria-label="Permalink to &quot;エスケープシーケンスのトークン&quot;">​</a></h3><ul><li><p><code>ESC_TAB</code>: <code>&lt;BACK_SLASH&gt;t</code></p></li><li><p><code>ESC_ENTER</code>: <code>&lt;BACK_SLASH&gt;n</code></p></li><li><p><code>ESC_NULL</code>: <code>&lt;BACK_SLASH&gt;0</code></p></li><li><p><code>ESC_CHAR</code>: <code>&lt;ESC_DOT&gt;</code>, <code>&lt;ESC_COMMA&gt;</code>, <code>&lt;ESC_EQUAL&gt;</code>, <code>&lt;ESC_SQUARE_L&gt;</code>, <code>&lt;ESC_SQUARE_R&gt;</code>, <code>&lt;ESC_CURLY_L&gt;</code>, <code>&lt;ESC_CURLY_R&gt;</code>, <code>&lt;ESC_ANGLE_L&gt;</code>, <code>&lt;ESC_ANGLE_R&gt;</code>, <code>&lt;ESC_ROUND_L&gt;</code>, <code>&lt;ESC_ROUND_R&gt;</code>, <code>&lt;ESC_PLUS&gt;</code>, <code>&lt;ESC_HYPHEN&gt;</code>, <code>&lt;ESC_ASTERISK&gt;</code>, <code>&lt;ESC_SLASH&gt;</code>, <code>&lt;ESC_BACK_SLASH&gt;</code>, <code>&lt;ESC_SEMICOLON&gt;</code>, <code>&lt;ESC_COLON&gt;</code>, <code>&lt;ESC_DOLLAR&gt;</code>, <code>&lt;ESC_PERCENT&gt;</code>, <code>&lt;ESC_SHARP&gt;</code>, <code>&lt;ESC_QUOTE_SINGLE&gt;</code>, <code>&lt;ESC_QUOTE_DOUBLE&gt;</code>, <code>&lt;ESC_QUOTE_BACK&gt;</code>, <code>&lt;ESC_UNDERSCORE&gt;</code>, <code>&lt;ESC_QUESTION&gt;</code>, <code>&lt;ESC_EXCLAMATION&gt;</code>, <code>&lt;ESC_AND&gt;</code>, <code>&lt;ESC_AT&gt;</code>, <code>&lt;ESC_HAT&gt;</code>, <code>&lt;ESC_TILDE&gt;</code>, <code>&lt;ESC_OR&gt;</code>, <code>&lt;ESC_TAB&gt;</code>, <code>&lt;ESC_ENTER&gt;</code>, <code>&lt;ESC_NULL&gt;</code> のいずれか</p></li></ul><h3 id="シンボル" tabindex="-1">シンボル <a class="header-anchor" href="#シンボル" aria-label="Permalink to &quot;シンボル&quot;">​</a></h3><ul><li><code>QUOTE</code>: <code>&lt;QUOTE_SINGLE&gt;</code>, <code>&lt;QUOTE_DOUBLE&gt;</code>, <code>&lt;QUOTE_BACK&gt;</code>のいずれか</li><li><code>SYMBOL_NON_5C_QUOTE</code>: <code>&lt;DOT&gt;</code>, <code>&lt;COMMA&gt;</code>, <code>&lt;EQUAL&gt;</code>, <code>&lt;SQUARE_L&gt;</code>, <code>&lt;SQUARE_R&gt;</code>, <code>&lt;CURLY_L&gt;</code>, <code>&lt;CURLY_R&gt;</code>, <code>&lt;ANGLE_L&gt;</code>, <code>&lt;ANGLE_R&gt;</code>, <code>&lt;ROUND_L&gt;</code>, <code>&lt;ROUND_R&gt;</code>, <code>&lt;PLUS&gt;</code>, <code>&lt;HYPHEN&gt;</code>, <code>&lt;ASTERISK&gt;</code>, <code>&lt;SLASH&gt;</code>, <code>&lt;SEMICOLON&gt;</code>, <code>&lt;COLON&gt;</code>, <code>&lt;DOLLAR&gt;</code>, <code>&lt;PERCENT&gt;</code>, <code>&lt;SHARP&gt;</code>, <code>&lt;UNDERSCORE&gt;</code>, <code>&lt;QUESTION&gt;</code>, <code>&lt;EXCLAMATION&gt;</code>, <code>&lt;AND&gt;</code>, <code>&lt;AT&gt;</code>, <code>&lt;HAT&gt;</code>, <code>&lt;TILDE&gt;</code>, <code>&lt;OR&gt;</code> のいずれか</li><li><code>SYMBOL_NON_5C</code>: <code>&lt;SYMBOL_NON_0x5C_QUOTE&gt;</code>, <code>&lt;QUOTE&gt;</code> のいずれか</li><li><code>SYMBOL</code>: <code>&lt;SYMBOL_NON_5C&gt;</code>, <code>&lt;BACK_SLASH&gt;</code> のいずれか</li></ul><h2 id="アルファベット" tabindex="-1">アルファベット <a class="header-anchor" href="#アルファベット" aria-label="Permalink to &quot;アルファベット&quot;">​</a></h2><ul><li><code>ALPHABET</code>: <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code>, <code>e</code>, <code>f</code>, <code>g</code>, <code>h</code>, <code>i</code>, <code>j</code>, <code>k</code>, <code>l</code>, <code>m</code>, <code>n</code>, <code>o</code>, <code>p</code>, <code>q</code>, <code>r</code>, <code>s</code>, <code>t</code>, <code>u</code>, <code>v</code>, <code>w</code>, <code>x</code>, <code>y</code>, <code>z</code>, <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>E</code>, <code>F</code>, <code>G</code>, <code>H</code>, <code>I</code>, <code>J</code>, <code>K</code>, <code>L</code>, <code>M</code>, <code>N</code>, <code>O</code>, <code>P</code>, <code>Q</code>, <code>R</code>, <code>S</code>, <code>T</code>, <code>U</code>, <code>V</code>, <code>W</code>, <code>X</code>, <code>Y</code>, <code>Z</code> のいずれか</li></ul><h2 id="utf-8" tabindex="-1">UTF-8 <a class="header-anchor" href="#utf-8" aria-label="Permalink to &quot;UTF-8&quot;">​</a></h2><ul><li><code>U1</code>: <code>0x80</code>から<code>0xBF</code>のいずれか</li><li><code>U2</code>: <code>0xC2</code>から<code>0xDF</code>のいずれか</li><li><code>U3</code>: <code>0xE0</code>から<code>0xEF</code>のいずれか</li><li><code>U4</code>: <code>0xF0</code>から<code>0xF4</code>のいずれか</li><li><code>UTF8</code>: <code>&lt;U2&gt;&lt;U&gt;</code>、<code>&lt;U3&gt;&lt;U1&gt;&lt;U1&gt;</code>、<code>&lt;U4&gt;&lt;U1&gt;&lt;U1&gt;&lt;U1&gt;</code>のいずれか（UTF-8文字にのみマッチする）</li></ul><h2 id="トークン" tabindex="-1">トークン <a class="header-anchor" href="#トークン" aria-label="Permalink to &quot;トークン&quot;">​</a></h2><ul><li><code>BOOLEAN</code>: <code>true</code>、<code>false</code> のいずれか</li><li><code>DIGIT_NON_ZERO</code>: <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code>, <code>8</code>, <code>9</code> のいずれか</li><li><code>DIGIT</code>: <code>0</code>, <code>&lt;DIGIT_NON_ZERO&gt;</code> のいずれか</li><li><code>DIGITS</code>: <code>&lt;DIGIT&gt;</code>の1つ以上の連続</li><li><code>INTEGER</code>: <code>&lt;DIGIT_NON_ZERO&gt;&lt;DIGITS&gt;</code></li><li><code>FLOAT</code>: <code>&lt;DIGIT&gt;&lt;DOT&gt;&lt;DIGITS&gt;</code></li><li><code>HEX_DIGIT</code>: <code>&lt;DIGIT&gt;</code>, <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code>, <code>e</code>, <code>f</code>, <code>A</code>, <code>B</code>, <code>C</code>, <code>D</code>, <code>E</code>, <code>F</code> のいずれか</li><li><code>HEX_DIGITS</code>: <code>&lt;HEX_DIGITS&gt;</code>の1つ以上の連続</li><li><code>HEX_NUMERIAL</code>: <code>0x&lt;HEX_DIGITS&gt;</code>, <code>0X&lt;HEX_DIGITS&gt;</code></li><li><code>SIGN</code>: <code>&lt;PLUS&gt;</code>, <code>&lt;HYPHEN&gt;</code> のいずれか</li><li><code>SIGNED_INTEGER</code>: <code>&lt;SIGN&gt;&lt;INTEGER&gt;</code>, <code>&lt;SING&gt;&lt;FLOAT&gt;</code></li></ul><h2 id="記述文字列" tabindex="-1">記述文字列 <a class="header-anchor" href="#記述文字列" aria-label="Permalink to &quot;記述文字列&quot;">​</a></h2><ul><li><p><code>KAG_KEYS</code>: <code>&lt;ALPHABET&gt;</code>, <code>&lt;DIGIT&gt;</code>, <code>&lt;UNDERSCORE&gt;</code>, <code>&lt;UTF8&gt;</code> のいずれか</p></li><li><p><code>KAG_MESSAGE_KEYS</code>: <code>&lt;ALPHABET&gt;</code>, <code>&lt;DIGIT&gt;</code>, <code>&lt;UTF8&gt;</code> のいずれか</p></li><li><p>ASCII_KEY: <code>[0-9a-zA-Z_]</code>の正規表現で表される文字。（ASCII記述文字）</p></li><li><p>UTF8_KEY: ASCII_KEY以外のUTF-8文字のマルチバイト文字（UTF8記述文字）</p></li><li><p>KEY: ASCII_KEYあるいはUTF8_KEY（記述文字）</p></li><li><p>KEYS: １つ以上のKEYで構成される文字列（記述文字列）</p></li></ul><h2 id="ドキュメント全体" tabindex="-1">ドキュメント全体 <a class="header-anchor" href="#ドキュメント全体" aria-label="Permalink to &quot;ドキュメント全体&quot;">​</a></h2><ul><li>DOCUMENT: ファイルの先頭から末尾まで（ドキュメント）</li></ul><h2 id="ドキュメントを構成する要素" tabindex="-1">ドキュメントを構成する要素 <a class="header-anchor" href="#ドキュメントを構成する要素" aria-label="Permalink to &quot;ドキュメントを構成する要素&quot;">​</a></h2><ul><li><code>BLANK_LINE</code>: 空白文字のみでで構成された行（空行）</li><li><code>INDENT_LINE</code>: 行頭からスペースが連続して<code>4</code>以上がある行。<code>BLANK_LINE</code>は除く（インデント行）</li><li><code>NON_INDENT_LINE</code>: 行頭からスペースが連続して<code>4</code>以上ない行。（インデントなし行）</li><li><code>INDENT_BLOCK</code>: <code>INDENT_LINE</code>の１つ以上の連続です。<code>BLANK_LINE</code>は無視（インデントブロック）</li></ul><h2 id="kag" tabindex="-1">KAG <a class="header-anchor" href="#kag" aria-label="Permalink to &quot;KAG&quot;">​</a></h2><h3 id="kagのトークン" tabindex="-1">KAGのトークン <a class="header-anchor" href="#kagのトークン" aria-label="Permalink to &quot;KAGのトークン&quot;">​</a></h3><h3 id="kagの文法" tabindex="-1">KAGの文法 <a class="header-anchor" href="#kagの文法" aria-label="Permalink to &quot;KAGの文法&quot;">​</a></h3><p>この文書では、例えば<code>KAG_TAG_NAME</code>が<code>x</code>の<code>KAG_TAG</code>を<code>x</code>タグと呼ぶ。 行末の丸括弧は、その要素をこの文書内での呼び方を指す。</p><ul><li><code>KAG_TAG_SQUARE_BRACKET</code>: <code>[</code>から<code>]</code>まで。ただし<code>[[</code>で始まる場合は除く。ネストは許可されない（大括弧タグ）</li><li><code>KAG_TAG_AT</code>: 行頭の<code>@</code>から行末まで。行頭の空白文字は無視すること（@タグ）</li><li><code>KAG_TAG</code>: <code>KAG_TAG_SQUARE_BRACKET</code>または<code>TAG_AT</code>（タグ）</li><li><code>KAG_TAG_LINE</code>: <code>KAG_TAG</code>のみで構成される行（タグ行）</li><li><code>KAG_TAG_NAME</code>: <code>KAG_TAG</code>内の最初のKEYS（タグ名）</li><li><code>KAG_TAG_ATTRIBUTE</code>: <code>KAG_TAG_NAME</code>の後から末尾までの<code>KAG_KEYS = KAG_KEYS</code>の等式。等式中の空白文字は無視される（タグ属性）</li><li><code>KAG_TAG_ATTRIBUTE_NAME</code>: <code>KAG_TAG_ATTRIBUTE</code>の等式の左辺（属性名）</li><li><code>KAG_TAG_ATTRIBUTE_VALUE</code>: <code>KAG_TAG_ATTRIBUTE</code>の等式の右辺（属性値）</li><li><code>KAG_STRING_SINGLE</code>: <code>&#39;</code> で囲まれた範囲。内包する<code>&quot;</code>は文字列とみなされる。ネストは許可されない。（シングル文字列）</li><li><code>KAG_STRING_DOUBLE</code>: <code>&quot;</code> で囲まれた範囲。内包する<code>&#39;</code>は文字列とみなされる。ネストは許可されない。（ダブル文字列）</li><li><code>KAG_STRING</code>: <code>KAG_STRING_SINGLE</code> または <code>KAG_STRING_DOUBLE</code></li><li><code>KAG_ENTITY</code>: <code>&amp;f.</code>, <code>&amp;sf.</code>, <code>&amp;tf.</code> <code>&amp;kag.</code> + <code>KAG_KEYS</code>。セーブ名および文字列中に使用できる。（KAG変数呼び出し）</li><li><code>KAG_LABEL_TOP_FILE</code>: ファイルの先頭位置。（ファイル先頭ラベル）</li><li><code>KAG_LABEL_NORMAL</code>: 行頭が <code>*</code> で始まる行（行頭ラベル）</li><li><code>KAG_LABEL</code>: <code>KAG_LABEL_TOP_FILE</code>あるいは<code>KAG_LABEL_NOMAL</code>（ラベル）</li><li><code>KAG_LABEL_NAME</code>: <code>KAG_LABEL</code>内の最初の<code>KAG_KEYS</code>。<code>KAG_KEYS</code>よりも<code>|</code>が先にあった場合は<code>KAG_LABEL_NAME</code>が省略されたとみなされ、<code>KAG_LABEL_NAME</code>は直前の<code>KAG_LABEL_NAME</code> + <code>:</code> + <code>DIGIT</code>となる。この<code>DIGIT</code>は2から始まり、省略が続く場合、値が1増加した数値になる。（ラベル名）</li><li><code>KAG_SAVE_NAME</code>: <code>KAG_LABEL_NAME</code>の次の<code>KAG_KEYS</code>または<code>KAG_ENTITY</code>。ただし<code>KAG_LABEL_NAME</code>と<code>KAB_SAVE_NAME</code>の間には<code>|</code>が必要（セーブ名）</li><li><code>KAG_SCRIPT_BLOCK</code>: <code>iscript</code>タグから<code>endscript</code>まで</li><li><code>KAG_MACRO_BLOCK</code>: <code>macro</code>タグから<code>endmacro</code>タグまで</li><li><code>KAG_MACRO_ATTRIBUTE_VALUE</code>: <code>KAG_MACRO_BLOCK</code>でのみ使用できる<code>KAG_TAG_ATTRIBUTE</code>。必ず<code>%</code>で始まる（マクロ属性値）</li><li><code>KAG_MACRO_ATTRIBUTE_DEFAULT</code>:<code> KAG_MACRO_ATTRIBUTE_VALUE</code>の次が<code>|</code>であった場合の次の<code>KAG_KEYS</code>（マクロデフォルト値）</li><li><code>KAG_MACRO_ATTRIBUTE_ALL</code>: <code>KAG_MACRO_BLOCK</code>内の<code>KAG_TAG</code>の<code>KAG_TAG_NAME</code>の次の<code>*</code>（マクロ全属性）</li><li><code>KAG_LINK_BLOCK</code>: <code>link</code>タグから<code>endlink</code>タグまで</li><li><code>KAG_SUBROUTINE_END</code>: <code>return</code>タグあるいは<code>s</code>タグ、またはファイル末尾（サブルーチン終端）</li><li><code>KAG_SUBROUTINE</code>: <code>KAG_LABEL</code>から<code>KAG_SUBROUTINE_END</code>まで（サブルーチン）</li><li><code>KAG_IF_BLOCK</code>: <code>if</code>タグから<code>endif</code>タグまで。間にはラベルを挟んではいけない。（ifブロック）</li><li><code>KAG_IGNORE_BLOCK</code>: <code>ignore</code>から<code>@endignore</code>まで。間にはラベルを挟まないように。（ignoreブロック）</li><li><code>KAG_COMMENT</code>: <code>;</code>から行末まで。<code>KAG_SCRIPT_BLOCK</code>と<code>KAG_STRING</code>内の<code>;</code>は無視される（コメント）</li><li><code>KAG_MESSAGE</code>: <code>KAG_TAG</code>、<code>KAG_LABEL</code>、<code>KAG_COMMENT</code>、<code>KAG_SCRIPT_BLOCK</code>内以外の<code>KAG_KEYS</code>（メッセージ）</li><li><code>KAG_ELEMENT</code>: <code>KAG_TAG</code>、<code>KAG_STRING</code>、<code>KAG_LABEL</code>、<code>KAG_SCRIPT_BLOCK</code>、<code>KAG_MACRO_BLOCK</code>、<code>KAG_LINK_BLOCK</code>、<code>KAG_SUBROUNTINE</code>、<code>KAG_IF_BLOCK</code>、<code>KAG_COMMENT_KAG</code>、<code>KAG_MESSAGE</code>のいずれか（KAGブロックを構成する要素）</li><li><code>KAG_ELEMENTS</code>: <code>KAG_ELEMENT</code>または<code>KAG_ELEMENTS</code>と<code>KAG_ELEMENT</code>の連続</li><li><code>KAG_LINE</code>: <code>KAG_ELEMENS</code>で構成される行。行頭のスペースがある場合は、必ず4つ未満である。</li><li><code>KAG_BLOCK</code>: <code>KAG_LINE</code>で構成されるブロック。<code>BLANK_LINE</code>が入ることは許容される。（KAGブロック）</li></ul><h2 id="吉里吉里のkagと違うところ" tabindex="-1">吉里吉里のKAGと違うところ <a class="header-anchor" href="#吉里吉里のkagと違うところ" aria-label="Permalink to &quot;吉里吉里のKAGと違うところ&quot;">​</a></h2><ul><li>自動改行、手動改行の切り替え</li></ul><h2 id="ティラノスクリプト拡張記法" tabindex="-1">ティラノスクリプト拡張記法 <a class="header-anchor" href="#ティラノスクリプト拡張記法" aria-label="Permalink to &quot;ティラノスクリプト拡張記法&quot;">​</a></h2><ul><li><code>#</code>+名前でキャラクター名を指定できる</li><li><code>#</code>+名前+<code>:</code>+表情など で表情を指定できる</li></ul><h2 id="拡張記法" tabindex="-1">拡張記法 <a class="header-anchor" href="#拡張記法" aria-label="Permalink to &quot;拡張記法&quot;">​</a></h2><ul><li><code>@script</code>タグ。</li><li>スクリプトの途中の行末に<code>\\</code>を挿入ことで、スクリプトを複数行に渡って記述できる</li><li>終了タグに<code>end...</code>の代わりに<code>[/if]</code>を指定できる</li><li>インデントでタグ記号を省略してスクリプトで記述できる</li><li><code>if {} macro {} ignore {}</code>が使える。</li><li><code>for</code> <code>while</code> などが使える</li><li><code>iscript</code>、<code>endscript</code>は無視される。</li><li>スクリプト中はスクリプトに準拠するが基本的に、<code>//</code>,<code>/**/</code>, <code>#</code>コメントを使える</li><li><code>\\{\\{script\\}\\}</code>でスクリプトを呼び出せる。<code>@eval</code>と同等。</li><li><code>[?mruby ?]</code></li><li>キャラ名：行頭+KEYS+<code>:</code> + <code>\\n | (...)</code> でキャラ名の指定ができる。<code>:</code>の後にKEYSが来てはいけない。</li><li>表情指定：キャラ名指定ののち<code>(...)</code>の間に表情指定などができる</li><li>ボイス指定：表情指定ののちに<code>{...}</code>でボイス形式でアニメーションなどを指定できる</li><li>キャラ名と同等の記法でメッセージとして<code>:</code>を使用したい時は<code>\\:</code>を用いる。</li><li>メッセージ行</li><li>メッセージブロック: メッセージ行の連続、空白行またはタグ、インデントブロック、あるいは末尾まで</li><li>メッセージ内に<code>$(x)</code>で表情差分、<code>\${x}</code>でボイス、<code>$&lt;x&gt;</code>で特殊演出、<code>\\{\\{script\\}\\}</code>でスクリプト</li><li>メッセージ内に指定がなければ、事前予約された表情、</li><li><code>-</code> リストでリンクの分岐が作れる（？）</li><li><code>[1]</code> タグ名の部分が数値だったばあいは予約参照</li></ul><h2 id="メモ" tabindex="-1">メモ <a class="header-anchor" href="#メモ" aria-label="Permalink to &quot;メモ&quot;">​</a></h2><ul><li><p>[eval exp=&quot;f.flag1 = 1000&quot;]でスクリプトの式を計算できる</p><ul><li>ゲーム変数であれば f. を、システム変数であれば sf. を、一時変数であれば tf. を付けます</li><li>kag. はKAGシステムへのアクセスに使われる</li><li>delete var で変数削除</li><li>[emb exp=&quot;f.var&quot;]で変数の内容を表示</li><li>[font size=&quot;&amp;f.fontsize&quot;] のように&amp; の後に書かれた属性の値の内容を、TJS2 式として実行して、その結果で属性の値を置き換える</li></ul></li><li><p>cond 属性には TJS式 を指定し、この式を評価した結果が真の時のみにそのタグが実行されます</p><ul><li><code>macro endmacro if else elsif endif ignore endignore iscript endscript</code> のタグをのぞく</li></ul></li><li><p>音声と表情の同期。</p></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">先生: ()</span></span>
<span class="line"><span style="color:#A6ACCD;">わたしもやき{1}が回ったってことかしら？</span></span>
<span class="line"><span style="color:#A6ACCD;">そうでもなければだ{2}ものね。</span></span>
<span class="line"><span style="color:#A6ACCD;">でも、そう{3}かんがえると</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">それでは・・・そういうことかもしれない。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">私: (face normal) {voice 0%:&quot;78&quot;, 50%:happy, 9%:shy}</span></span>
<span class="line"><span style="color:#A6ACCD;">そういうことであれば、{{script}}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">少女: (face) {voice}</span></span>
<span class="line"><span style="color:#A6ACCD;">$(1)なるほど、わかりました。</span></span>
<span class="line"><span style="color:#A6ACCD;">$(2)そういうことであれば、気をつけます。</span></span>
<span class="line"><span style="color:#A6ACCD;">$(3)あなたもがんばってください。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">少女: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    character: {</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">    },</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h2 id="toml" tabindex="-1">TOML <a class="header-anchor" href="#toml" aria-label="Permalink to &quot;TOML&quot;">​</a></h2><h3 id="tomlのトークン" tabindex="-1">TOMLのトークン <a class="header-anchor" href="#tomlのトークン" aria-label="Permalink to &quot;TOMLのトークン&quot;">​</a></h3><ul><li><code>TOML_COMMENT</code>: <code>#</code> から行末まで</li><li><code>TOML_KEY</code>: <code>&quot;</code>で囲まれた任意の文字列、またはアルファベット、数字、アンダースコア、ハイフンの連続</li><li><code>TOML_NUMBER</code>: 浮動小数点数または整数。数字とアンダースコアの連続で、アンダースコアは数字の間にだけ現れます。</li><li><code>TOML_BOOLEAN</code>: trueまたはfalse</li><li><code>TOML_DATE</code>: 日付</li><li><code>TOML_DOT</code>: <code>.</code></li><li><code>TOML_COMMA</code>: <code>,</code></li><li><code>TOML_EQ</code>: <code>=</code></li><li><code>TOML_LBRACKET</code>: <code>[</code></li><li><code>TOML_RBRACKET</code>: <code>]</code></li><li><code>TOML_LBRACE</code>: <code>(</code></li><li><code>TOML_RBRACE</code>: <code>)</code></li></ul><h3 id="tomlの文法" tabindex="-1">TOMLの文法 <a class="header-anchor" href="#tomlの文法" aria-label="Permalink to &quot;TOMLの文法&quot;">​</a></h3><ul><li><code>TOML_VALUE</code>: <code>TOML_KEY</code>、<code>TOML_NUMBER</code>、<code>TOML_BOOLEAN</code>、<code>TOML_DATE</code>、<code>TOML_ARRAY</code>、<code>TOML_INLINE_TABLE</code> のいずれかです。</li><li><code>TOML_ARRAY</code>: <code>[]</code>で囲まれた<code>TOML_VALUE</code>のリストです。リスト内の値は<code>,</code>で区切られます。</li><li><code>TOML_INLINE_TABLE</code>: <code>{}</code>で囲まれた<code>TOML_KEY_VALUE</code>のリストです。リスト内の<code>TOML_KEY_VALUE</code>は<code>,</code>で区切られます。ただし、<code>TOML_INLINE_TABLE</code>は単一行に収めるべきです。</li><li><code>TOML_KEY_VALUE</code>: <code>TOML_KEY_OR_STR</code>、<code>=</code>、<code>TOML_VALUEで</code>で構成されます。</li><li><code>TOML_TABLE_ENTRIES</code>: 0つ以上の<code>TOML_KEY_VALUE</code>からなるリストです。</li><li><code>TOML_PATH</code>: <code>TOML_KEY_OR_STR</code>、<code>.</code>、<code>TOML_KEY_OR_STR</code>が0回以上続く形式です。</li><li><code>TOML_TABLE_HEADER</code>: <code>[]</code>で囲まれた<code>TOML_PATH</code>です。</li><li><code>TOML_TABLE_ARRAY_HEADER</code>: <code>[[]]</code>で囲まれた<code>TOML_PATH</code>です。</li><li><code>TOML_TABLE_ARRAY</code>: <code>TOML_TABLE_ARRAY_HEADER</code>と<code>TOML_TABLE_ENTRIES</code>で構成されます。</li><li><code>TOML_TABLE</code>: <code>TOML_TABLE_HEADER</code>と<code>TOMLE_TABLE_ENTRIES</code>で構成されます。</li><li><code>TOML_EXPRESSION</code>: <code>TOML_KEY_VALUE</code>、<code>TOML_TABLE</code>、<code>TOML_TABLE_ARRAY</code>のいずれかです。</li><li><code>TOML_CONTENT</code>: 0個つ以上の<code>TOML_EXPRESSION</code>で構成されます</li></ul>`,46),t=[i];function A(_,a,E,L,S,T){return o(),c("div",null,t)}const s=e(l,[["render",A]]);export{n as __pageData,s as default};
